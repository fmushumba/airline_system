<body id="body">

    <%-include ('header') %>

        <script>
            // This example requires the Places library. Include the libraries=places
            // parameter when you first load the API. For example:
            // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
            function initMap() {

                const input1 = document.getElementById("leavingFrom");

                const input2 = document.getElementById("goingTo")
                const input_locations = [input1, input2]

                const options = {

                    componentRestrictions: { country: "us" },
                    fields: ["icon", "name"],
                    strictBounds: true,
                    types: ['airport'],
                };

                for (let i = 0; i < input_locations.length; i++) {

                    const autocomplete = new google.maps.places.Autocomplete(input_locations[i], options);
                    console.log(autocomplete)
                    // Set initial restriction to the greater list of countries.
                    autocomplete.setComponentRestrictions({
                        country: ["us"],
                    });


                }
            }



            window.initMap = initMap;


        </script>


        <main id="homepageContent" class="content">



            <h2>Welcome to Travel Buddy!</h2>
            <div>
                <h3>ARE YOU READY TO TAKE A FLIGHT ‚úàÔ∏èüåçüó∫Ô∏è</h3>
                <p>Look no further! Travel Buddy Airline Ticketing System is your number one gateway to seamless
                    travel
                    experiences. <br></p>

            </div>
            <div id='flight_search'>
                <h3 style="color: green; ">SEARCH FLIGHTS</h3>
                <form id='flight_search_form' style="padding-top: 20px;" action="#" method="post">
                    <table>

                        <tr style="border: 1px solid black;">

                            <td><input type="text" id="leavingFrom" name="leavingFrom" placeholder="Leaving from" />

                            </td>
                            <td><input type="text" id="goingTo" name="goingTo" placeholder="Going to"></td>
                        </tr>
                        <tr>

                            <td>
                                <label for="departureDate">Departure Date:</label>
                                <input type="date" id="departureDate" name="departureDate" placeholder="Departure Date">
                                <p id="departureDateError" style="color: red; display: none;">Departure date must
                                    not be in the past.</p>
                            </td>
                            <td>
                                <label for="returnDate">Return Date:</label>
                                <input type="date" id="returnDate" name="returnDate" placeholder="Return Date">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="quantity">Number of travelers:</label>
                                <input type="number" id="quantity" name="quantity" min="1" max="5">
                            </td>
                            <td style="background-color: green;"><input type="submit" value="Submit"></td>
                        </tr>
                    </table>
                </form>


            </div>


        </main>
        <div id="travel_suggestions">
            <div>
                <p>Want to go Somewhere else:</p>
                <form class="example" action="/action_page.php">
                    <input type="text" placeholder="Search.." name="search">
                    <button type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>

            <div class="row justify-content-around">
                <div class="col-4">
                    <div class="card" style="width: 18rem;">
                        <img style="height: 12rem;" class="card-img-top" src="/images/Iowa Spring Tulips.jpg.webp"
                            alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Some quick example text to build on the card title and make up the
                                bulk
                                of
                                the card's content.</p>
                        </div>
                    </div>

                </div>
                <div class="col-4">
                    <div class="card" style="width: 18rem;">
                        <img style="height: 12rem;" class="card-img-top" src="/images/Iowa Spring Tulips.jpg.webp"
                            alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Some quick example text to build on the card title and make up the
                                bulk
                                of
                                the card's content.</p>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <div class="card" style="width: 18rem;">
                        <img style="height: 12rem;" class="card-img-top" src="/images/Iowa Spring Tulips.jpg.webp"
                            alt="Card image cap">
                        <div class="card-body">
                            <p class="card-text">Some quick example text to build on the card title and make up the
                                bulk
                                of
                                the card's content.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <%-include('footer') %>


            <script
                src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&loading=async&libraries=places&callback=initMap">
                    defer
                    document.getElementById('flight_search_form').addEventListener('submit', function (event) {
                        const departureDateInput = document.getElementById('departureDate');
                        const departureDate = new Date(departureDateInput.value);
                        const today = new Date();
                        today.setHours(0, 0, 0, 0); // Remove time part

                        if (departureDate < today) {
                            document.getElementById('departureDateError').style.display = 'block';
                            event.preventDefault(); // Prevent form from submitting
                        } else {
                            document.getElementById('departureDateError').style.display = 'none';
                        }
                    });
                </script>
</body>